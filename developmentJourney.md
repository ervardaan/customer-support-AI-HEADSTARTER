# initialize application
- `npx create-next-app@latest`
- then give appname when prompted
- normally we get a folder with `appname` and go inside this folder to do everything but when we upload everything to github, we have to move all contents from this `appname` folder outside as our vercel deployment can't get inside this `appname` folder- thus move everything out of this `appname` folder and delete this empty folder
- install openai `npm install openai` and material ui `npm install @mui/material @emotion/react @emotion/styled`
# initializing openai
- go to openai platform playground `platform.openai.com`
- to create api keys go to `https://platform.openai.com/api-keys`
- copy the api key which is  for my project
- GO TO the main folder(not the appname folder as we deleted that and transferred its files one level above) and create an `.env.local` file
- create a constant called `OPENAI_API_KEY` and set this key as its value
# creating a route
- go to `app` folder and make a new folder `api` and inside api folder create a `chat` folder- this chat is one route
- create `route.js` file insie chat folder inside api folder inside app folder
# working on route.js
- import `NextResponse` from `next/server`
- import `OpenAI` from `openai`
- go to chat gpt and ask it to generate a syatem prompt for an ai chatbot for headstarterAI which is an ai powered platform for swe jobs
- response we get is ` You are the customer support bot for HeadStarterAI, a platform designed to facilitate AI-powered interviews for software engineering (SWE) jobs. Your primary role is to assist users, including job seekers, recruiters, and hiring managers, by providing clear, concise, and helpful information about the platform's features, processes, and troubleshooting steps. Your responses should be professional, empathetic, and solution-oriented.`
- copy this repsonse and make a const variable in `route.js` and give this value to the variable
- use a `POST ROUTE`
    - create a method which is using await and async cycle to get json data from openAI- this function's name is `POST` and gets a `req` parameter
    - create a const variable called openai which is an object of class `openAI` whose non-parameterized constructor is called to make this `openai` object
    - create a const `data` variable to get json content from `req` parameter using `await` call and using `.json() function` on `req object`
    - create another const variable called `completion` which calls `openai.chat.completions` and calls `.create()` method on this object using `await cycle`
        - make an array called `messages` which contains one element
            - this one element consists of `role` set to `system` and `content` set to `systemPrompt`
            - second thing the array `messages` contains is `spreading` code which spreads `data` variable we made earlier
        - make another element aside the messages array called `model` set to `gpt-4o-mini`
        - create 3rd element called `stream` and set it to `true`
- create a new variable after completion called `stream` and instantiate it to object to class `ReadableStream` using non parameterized constructor
    - create a new async function called `start` and give it a parameter `controller`
        - inside this async start method, create a const variable called `encoder` which gets instantiated to object of class `TextEncoder` with non parameterized constructor
        - after the encoder variable, use a try catch and finally block
        - TRY block
            - use `await` cycle with for loop and give await cycle a constant variable `chunk` using `of` keyword` for completion variable we defined above
                - inside this await for loop, make a const variable called `content` which calls `choices() method` on `chunk` we got above and get first element of this array after applying `choices()`- now check if the value is equal to `.delta` or `.content` using `?`
                - if content variable gets some value, then create another const variable called text and use `encode() method` with `content` as parameter on `encoder` variable we defined above
                - then call `enqueue()` method with text as parameter on `controller` we got as parameter above
        - CATCH block
            - get `err` as error and use `.error()` method on controller object with parameter `err`
        - FINALLY block
            - call `close() method` on controller object
- return a new `NextResponse` object with parameter `stream` after `stream` is defined fully now
